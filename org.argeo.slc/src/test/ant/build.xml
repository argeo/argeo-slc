<project default="test" name="testProject">
	<description>A Test project</description>
	
	<taskdef resource="org/argeo/slc/ant/taskdefs.properties" />

	<target name="test" depends="testSimple,testObj">
	</target>

	<target name="testSimple" description="A simple test">
		<!-- Success -->
		<slc.test>
			<testDefinition bean="dummyTestDefinition" />
			<testData bean="dummyTestDataOK" />
		</slc.test>

		<!-- Failure -->
		<slc.test>
			<testDefinition bean="dummyTestDefinition" />
			<testData bean="dummyTestDataNOK" />
		</slc.test>

		<!-- Override property -->
		<slc.test>
			<testDefinition bean="dummyTestDefinition" />
			<testData bean="dummyTestDataNOK">
				<override name="reached" value="value1" />
			</testData>
		</slc.test>
	</target>
	
	<target name="testObj" description="An object test">
		<!-- Success -->
		<slc.test>
			<testDefinition bean="dummyTestDefinition"/>
			<testData bean="dummyTestDataObjOK"  description="A dummy testDef"/>
		</slc.test>

		<!-- Failure -->
		<slc.test>
			<testDefinition bean="dummyTestDefinition" />
			<testData bean="dummyTestDataObjNOK" />
		</slc.test>

		<!-- Override property -->
		<slc.test>
			<testDefinition bean="dummyTestDefinition" />
			<testData bean="dummyTestDataObjNOK">
				<override name="reached" bean="dummyTestDataObject1" />
			</testData>
		</slc.test>
	</target>
</project>
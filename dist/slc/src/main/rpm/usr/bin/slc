#!/bin/sh

JAVA_CMD=/usr/lib/jvm/java-1.8.0/bin/java
JAVA_OPTS="-client -Xmx256m"

SLC_HOME_DIR=${HOME}/.slc/
if [ -f $SLC_HOME_DIR/settings.sh ];then
	. $SLC_HOME_DIR/settings.sh
fi

OSGI_INSTALL_AREA=/usr/share/osgi/boot

ARGEO_OSGI_BUNDLES="$SLC_HOME_DIR/modules;in=**;ex=**/.git/**;ex=**/.svn/**,/etc/slc-cl/modules;in=**;ex=**/.git/**;ex=**/.svn/**,/usr/share/osgi;in=*.jar"

for i in "${OSGI_INSTALL_AREA}"/*.jar
	do
	CLASSPATH="$CLASSPATH:$i"
	done

$JAVA_CMD $JAVA_OPTS \
 "-Dargeo.osgi.bundles=$ARGEO_OSGI_BUNDLES" \
 -cp "$CLASSPATH" \
 org.argeo.slc.cli.SlcMain "$@"
 
#!/bin/sh

JAVA_CMD=/usr/lib/jvm/java-1.6.0/bin/java
JAVA_OPTS="-client -Xmx256m"

SLC_HOME_DIR=${HOME}/.slc/
if [ -f $SLC_HOME_DIR/settings.sh ];then
	. $SLC_HOME_DIR/settings.sh
fi

OSGI_INSTALL_AREA=/usr/share/osgi/boot
OSGI_FRAMEWORK=$OSGI_INSTALL_AREA/org.eclipse.osgi.jar
OSGI_BOOT=$OSGI_INSTALL_AREA/org.argeo.osgi.boot.jar
SLC_LAUNCHER=$OSGI_INSTALL_AREA/org.argeo.slc.launcher.jar

ARGEO_OSGI_BUNDLES="$SLC_HOME_DIR/modules;in=**;ex=**/.git/**;ex=**/.svn/**,/etc/slc-cl/modules;in=**;ex=**/.git/**;ex=**/.svn/**,/usr/share/osgi;in=*.jar"

$JAVA_CMD $JAVA_OPTS \
 "-Dargeo.osgi.bundle=$ARGEO_OSGI_BUNDLES" \
 -cp $OSGI_FRAMEWORK:$OSGI_BOOT \
 -jar $SLC_LAUNCHER "$@"
 
<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.5.xsd" default-lazy-init="true">

	<import
		resource="classpath:/org/argeo/slc/castor/spring/applicationContext.xml" />
	<import
		resource="classpath:/org/argeo/slc/xml/spring/applicationContext.xml" />

	<bean name="slcExecutionRequestEp"
		class="org.argeo.slc.ws.process.SlcExecutionRequestEp">
		<constructor-arg ref="slcExecutionDao" />
		<property name="marshaller" ref="slcDefault.castor.marshaller" />
		<property name="unmarshaller"
			ref="slcDefault.castor.marshaller" />
	</bean>

	<bean name="slcExecutionStepsRequestEp"
		class="org.argeo.slc.ws.process.SlcExecutionStepsRequestEp">
		<constructor-arg ref="slcExecutionDao" />
		<property name="marshaller" ref="slcDefault.castor.marshaller" />
		<property name="unmarshaller"
			ref="slcDefault.castor.marshaller" />
	</bean>

	<bean name="createTreeTestResultRequestEp"
		class="org.argeo.slc.ws.test.tree.CreateTreeTestResultRequestEp">
		<constructor-arg ref="testResultDao" />
		<property name="marshaller" ref="slcDefault.castor.marshaller" />
		<property name="unmarshaller"
			ref="slcDefault.castor.marshaller" />
	</bean>

	<bean name="resultPartRequestEp"
		class="org.argeo.slc.ws.test.tree.ResultPartRequestEp">
		<constructor-arg ref="testResultDao" />
		<property name="marshaller" ref="slcDefault.castor.marshaller" />
		<property name="unmarshaller"
			ref="slcDefault.castor.marshaller" />
	</bean>

	<bean id="endPointMapping"
		class="org.springframework.ws.server.endpoint.mapping.PayloadRootQNameEndpointMapping">
		<property name="mappings">

			<props>
				<prop
					key="{http://argeo.org/projects/slc/schemas}slc-execution-request">
					slcExecutionRequestEp
				</prop>
				<prop
					key="{http://argeo.org/projects/slc/schemas}slc-execution-steps-request">
					slcExecutionStepsRequestEp
				</prop>
				<prop
					key="{http://argeo.org/projects/slc/schemas}create-tree-test-result-request">
					createTreeTestResultRequestEp
				</prop>
				<prop
					key="{http://argeo.org/projects/slc/schemas}result-part-request">
					resultPartRequestEp
				</prop>
			</props>
		</property>

		<property name="interceptors">
			<bean
				class="org.springframework.ws.server.endpoint.interceptor.PayloadLoggingInterceptor" />
		</property>
	</bean>

	<bean id="slcDefinition"
		class="org.springframework.ws.wsdl.wsdl11.DefaultWsdl11Definition">
		<property name="schema" ref="slcDefault.xml.xsdSchema" />
		<property name="portTypeName" value="Slc" />
		<property name="locationUri"
			value="http://localhost:8080/org.argeo.slc.webapp/slcService/" />
		<property name="targetNamespace"
			value="http://argeo.org/projects/slc/definitions" />
		<property name="requestSuffix" value="-request" />
	</bean>

	<bean class="org.argeo.slc.ws.CustomSoapExceptionResolver" />
</beans>